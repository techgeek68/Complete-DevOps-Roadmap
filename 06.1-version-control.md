# Git - Version Control System (with GitHub)

This note consolidates core Git concepts, practical workflows, and GitHub usage with clear commands and examples. Code and command snippets are in triple fences.

---

## Core Git Concepts

- Repository (Repo)
  - A database storing project files with complete version history (commits, branches, tags).
  - Example: A photo album with every picture plus a logbook of all edits.

- Commit
  - A unique snapshot of the repo at a point in time (hash ID, author, timestamp, message).
  - Example: A dated logbook entry: “Added 3 beach photos, cropped group shot.”

- Branch
  - A movable pointer to a commit; the default branch is typically main (formerly master).
  - Example: A bookmark labeled “Wedding Experiment edits.”

- Merge
  - Combines histories by creating a new merge commit (or fast-forward when possible).
  - Example: Paste the best experimental photos into the main album and note the merge.

- Clone
  - Copies the entire repository database (files, history, branches) to your machine.
  - Example: Duplicating the album and its full edit history at home.

- Remote
  - Named reference (e.g., origin) to a shared repo URL (GitHub/GitLab/Bitbucket).
  - Example: Address label for the family’s cloud album.

- Push
  - Uploads local commits to a remote repo branch; can fail if remote has new commits.
  - Example: Shipping new prints to update the cloud album.

- Pull
  - Downloads remote changes and merges into your local branch (git pull = fetch + merge).
  - Example: Getting Aunt Lisa’s new photos and adding them locally.

- Pull Request (PR) / Merge Request (MR)
  - Platform feature (not Git) for review, tests, discussion, and merging.
  - Example: “Merge my beach-photos branch into main (see diffs here).”

- Fork
  - Server-side copy of another user’s repository under your account (platform feature).
  - Example: Your own cloud album copied from Grandma’s recipe book to tweak safely.

- Conflict
  - Happens during merge/rebase when the same lines change incompatibly.
  - Example: You and your brother wrote different captions on the same photo.

- .gitignore
  - Plain text patterns for files/dirs Git should ignore permanently.
  - Example: “Do not include blurry photos or receipts.”

---

## Introduction to Git & GitHub

- What is Git?
  - Distributed version control system to track changes, enable collaboration, and work offline.

- What is GitHub?
  - Cloud platform hosting Git repositories and providing:
    - Pull Requests (code review + merge)
    - Issues (bug/feature tracking)
    - CI/CD integrations (e.g., Actions)
    - Project boards, wikis, automation

### Git vs. GitHub

| Aspect            | Git (VCS)                                   | GitHub (Platform)                              |
|-------------------|----------------------------------------------|------------------------------------------------|
| Type              | Distributed Version Control System           | Cloud-based Git hosting platform               |
| Function          | Tracks code changes locally                  | Hosts remote repositories                      |
| Installation      | Required (local CLI)                         | Not required (web UI), optional CLI            |
| Internet Needed?  | No (for local work)                          | Yes (for collaboration)                        |
| Core Features     | Commits, branches, merging, history          | PRs, Issues, CI/CD, Wikis, Actions             |
| Ownership         | Open-source (Linus Torvalds)                 | Microsoft-owned                                |
| Analogy           | Personal notebook (drafts)                   | Shared library (publishing/collaboration)      |

---

## How Git Works (with GitHub)

```
+---------------+    +---------------+    +--------------------+    +---------------------+
| Working Tree  |    | Staging Area  |    | Local Repository   |    | Remote Repository   |
+---------------+    +---------------+    +--------------------+    +---------------------+
       |                    |                    |                          |
       | git add/mv/rm      |                    |                          |
       +------------------->|                    |                          |
       |                    | git commit         |                          |
       |                    +------------------->|                          |
       |                    |                    | git push                 |
       |                    |                    +------------------------->|
       |                    |                    |                          |
       |                    |                    |<-------------------------+
       | git reset <file>   |                    |          git fetch       |
       |<-------------------+                    |                          |
       | git reset <commit> |                    |                          |
       |<----------------------------------------+                          |
       | git diff           |                    |                          |
       |<------------------>|                    |                          |
       | git diff HEAD      |                    |                          |
       |<--------------------------------------->|                          |
       |                    |                    |                          |
       |<------------------------------------------------------------------+|
       |  git clone/pull                                                    |

```

- Working Directory (Your Project Workspace)
  - Your local project folder where files are edited.
  - Changes are untracked or modified until staged.

- Staging Area (Preparation Zone)
  - Loading dock between working directory and repository.
  - Selectively choose which changes to include in the next commit.

- .git Directory (Git’s Database)
  - Hidden folder storing committed snapshots, history, branches, tags, and configs.

- Remote Repositories (Team Collaboration Hub)
  - Centralized versions hosted online (GitHub, GitLab).
  - Used for syncing via push/pull; enables collaboration and backups.

---

## Core Workflows

### Committing Changes (Saving Revisions)

- Two-step process:
  - Stage changes
```
git add <file>         # stage a file
```
```
git add .              # stage everything
```
- Commit staged changes
```
git commit -m "feat: add price range filter"
```

### Branching (Parallel Development)

```
git branch <name>      # create branch
git switch <name>      # switch to branch (modern)
# or
git checkout <name>    # older equivalent
```

Example:
```
git switch -c new-feature
# ...edit files...
git commit -m "feat: implement new feature"
git switch main
```

### Merging (Combining Work)

- Move to the target branch and merge the source branch:
```
git switch main
git merge new-feature
```

### Remotes (Team Collaboration)

- Push and pull:
```
git push origin main
git pull origin main
```

- Set default pull behavior (optional):
```
git config --global pull.rebase true   # or false, or 'only'
```

---

## Common Git Commands

Initialize repository:
```
git init
```

Clone repository:
```
git clone https://github.com/user/project.git
git clone git@github.com:user/project.git
```

Status and diff:
```
git status
git diff
git diff --staged
```

Branch management:
```
git branch
git branch -vv
git switch -c feature/login
git switch main
git branch -d feature/login
```

Remote management:
```
git remote -v
git remote add origin git@github.com:techgeek68/JavaApp.git
git remote remove origin
```

Log/history:
```
git log --oneline --graph --decorate --all
git log -- filename
git log --author="Name"
git log --since="2024-01-01" --until="2024-12-31"
git log --grep="search term"
```

Tagging (releases):
```
git tag v1.0.0
git push origin v1.0.0
```

Stash (shelve work-in-progress):
```
git stash push -m "WIP: refactor service"
git stash list
git stash pop
```

Cleanup local stale remote branches:
```
git fetch --prune
```

---

## History & Version Tracking

View history:
```
git log --oneline
```

Compare versions:
```
git diff                  # Unstaged vs. last commit
git diff --staged         # Staged vs. last commit
git diff branch1..branch2
git diff commitA..commitB
```

---

## Undoing / Reverting Changes

Case 1: Edited but NOT staged
```
# Modern, safer:
git restore <file>

# Older syntax:
git checkout -- <file>
```

Case 2: Staged but NOT committed
```
git restore --staged <file>   # unstage (keep working copy)
git restore <file>            # discard working changes if desired

# Older equivalent:
git reset HEAD <file>
git checkout -- <file>
```

Case 3: Already committed

- Method A: Soft reset (keep changes staged)
```
git reset --soft HEAD~1
```

- Method B: Mixed reset (default; keep changes in working copy, unstaged)
```
git reset --mixed HEAD~1
```

- Method C: Hard reset (discard commit and changes; destructive)
```
git reset --hard HEAD~1
# Warning: Permanently removes work
```

- Method D: Revert (safe on shared branches; creates an “anti-commit”)
```
git log                      # find commit hash
git revert --no-commit <commit_hash>
git commit -m "revert: undo <short-hash> <original subject>"
```

---

## Customizing Git

Configuration levels:
```
git config --local    # repo-specific (.git/config)
git config --global   # user-wide (~/.gitconfig)
git config --system   # machine-wide
```

Common settings:
```
git config --global user.name "techgeek68"
git config --global user.email "pyakurelelx@gmail.com"
git config --global core.editor "vim"
git config --list
```

Helpful aliases (append to ~/.gitconfig):
```
[alias]
  # Visual history
  lol = log --oneline --graph --decorate --all
  # Delete merged local branches (except main)
  cleanup = "!git branch --merged | egrep -v '\\*|main|master' | xargs -r git branch -d"
```

Hooks (automation triggers in .git/hooks/):
- pre-commit: run linters/tests
- pre-push: run smoke tests
- post-receive: deploy on server

---

## Ignoring Files (.gitignore)

- Exclude temporary files, dependencies, secrets.

Example .gitignore:
```
# Dependencies
node_modules/
.venv/
venv/
target/
dist/

# OS
.DS_Store
Thumbs.db

# IDE
.idea/
*.iml
.vscode/

# Logs and env
*.log
.env
.env.*
```

---

## Git Best Practices

- Descriptive commit messages (Conventional Commits style)
```
type(scope?): subject

body (what/why; details)
```
Rules:
- Imperative mood (“Fix bug”, not “Fixed bug”)
- One logical change per commit
- Reference issues/PRs when relevant (e.g., “fix: resolve NPE (#42)”)

- Frequent, small commits
- Regular synchronization
  - Pull before work; push after meaningful commits
  - Resolve conflicts promptly
- Strategic branching
  - main: production-ready
  - develop: integration (if using GitFlow)
  - feature/*, bugfix/*, hotfix/*
  - Delete merged branches

---

## Collaboration Example (3 Developers)

Scenario: Alice (frontend), Bob (backend), Carol (UI) collaborate on an e-commerce site.

```
                  +------------------+
User 1:           |  Working Copy    |  
Alice             +------------------+
                        | ^ 
               Commit   | | Update
                        v |
                +------------------+
                | Local Repository |
                +------------------+
                        | ^
                 Push   | | Pull
                        v |
          +---------------------------------------+
          |   Remote Repository                   |
          |      (git)                            |
          +---------------------------------------+
                ^ |                       ^ |
          Push  | | Pull                  | | Push/Pull
                | v                       | v 
            +------------------+      +------------------+
            | Local Repository |      | Local Repository |  
            +------------------+      +------------------+
                   ^ |                          ^ |
            Commit | | Update            Commit | | Update
                   | v                          | v
            +------------------+      +------------------+
User 2:     |  Working Copy    |      |  Working Copy    |  User 3:
Bob         +------------------+      +------------------+  Carol

```

**Developer 1: Alice (Frontend Developer)**
• Task: Add product filtering feature
Workflow:
```
git pull origin main                              #Syncs with remote
```
**Edits product-list.js** (Working Copy)
```
git add product-list.js                          #Stages changes
```
```
git commit -m "feat: add price range filter"      #Saves to local repository
```
```
git push origin main                              #Uploads to remote repository
```

**Developer 2: Carol (UI Designer)**
• Task: Improve cart styling
Workflow:
```
git fetch origin                                  #Checks remote changes
```
**Edits styles.css** (Working Copy)
```
git add styles.css
```
```
git commit -m "feat: redesign cart UI"            #Local Repository
````
```
git push origin main                              #Remote Repository (Pushes before Bob)
```

**Developer 3: Bob (Backend Developer)**
• Task: Implement coupon code validation
Workflow:
```
git pull origin main                              #Gets Alice's updates
```
**Edits checkout.php**  (Working Copy)
```
git add checkout.php
```
```
git commit -m "feat: add coupon validation"       #Local Repository
```
```
git push origin main                              #Remote Repository
```
**Push fails (remote has newer commits)**         #⚠️ Push fails! (Carol pushed first)
```
git pull --rebase origin main                      #Integrates Carol's changes
```
**resolve conflicts (e.g., styles.css), then:**
```
git add styles.css
```
```
git rebase --continue                               #Complete rebase
```
```
git push origin main                                #Success!
```

Why this works:
- Parallel development on separate files
- Conflict managed explicitly via rebase
  - Carol pushes first → Creates new base version
  - Bob uses rebase to replay his changes on top
  - Explicit conflict resolution ensures code integrity
- Clear audit trail: v1 (Alice) → v2 (Carol) → v3 (Bob)
  - GitHub shows the exact conflict resolution point

---

## Sign Up for GitHub

- Visit github.com → “Sign up”
- Enter email, password, username, and follow prompts.

---

## Create a Repository on GitHub

- Click “New”
- Name: JavaApp                 (and optionally PythonApp, PHPapp)
- Choose Public/Private
- Add README
- Default branch: main (GitHub default)
- Create repository

---

## Install Git and Perform Core Operations (On Developer's Machine)

Install Git (RHEL/Fedora/CentOS):
```
  sudo dnf install git -y
```

Configure global identity:
```
  git config --global user.name "techgeek68"
```
```
  git config --global user.email "pyakurelelx@gmail.com"
```
```
  git config --global core.editor "vim"
```
```
  git config --list
```

**Create a local repo:**
```
  mkdir -p ~/javaapp && cd ~/javaapp
```
```
  git init
```

If you already have a Maven sample app:
```
cd ~/javaapp/sample-app
```
**Remove unnecessary build artifacts (#Delete unnecessary directory like target created by ‘maven
package’**
```
rm -rf target
```
```
git init
```
```
ls -a
```

**Stage and commit:**
```
git status
```
It will give us about:
  - Staged (ready to commit)
  - Modified but not staged
  - Untracked (new files Git doesn’t know about)
  - In conflict after a merge
    
>Stage a single file
```
git add README.md
```
```
git add pom.xml
```

>Stage multiple files at once
```
git add pom.xml README.md
```

>Stage all files/dirs
```
git add .
```
       or
```
git add -A
```
```
git status
```
```
git commit -m "chore: initial deployment"                #Commits staged changes
```
```
git status                                               #Verify
```
```
git log                                                  #View logs
```

---

## SSH Key-based Authentication to GitHub

Generate SSH key:
```
ssh-keygen -t ed25519 -C "pyakurelelx@gmail.com"
```

Optional SSH client config (~/.ssh/config):
```
Host github.com
  HostName github.com
  User git
  ServerAliveInterval 60
  ServerAliveCountMax 5
  TCPKeepAlive yes
  IPQoS throughput
```

Set permissions and start agent:
```
chmod 600 ~/.ssh/config
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
```

Add public key to GitHub:
```
cat ~/.ssh/id_ed25519.pub
# Copy output → GitHub → Settings → SSH and GPG keys → New SSH key
```

Test:
```
ssh -T git@github.com
```

Link local to remote:
```
cd ~/javaapp/sample-app
git remote add origin git@github.com:techgeek68/JavaApp.git
git remote -v
# Remove origin (if needed):
# git remote remove origin
```

Pull (configure and fetch):
```
git config pull.rebase true   # optional preference
git pull origin main          # use 'master' if your repo uses that
```

Push:
```
git push origin main
```

Unlink remote (if needed):
```
git remote rm origin
git config --list
```

---

## Branching Example

Create and switch:
```
git branch productreview
git switch productreview
git branch
```

Make changes:
```
echo "<h1>Rate our service</h1>" > userreview
git status
git add userreview
git commit -m "feat(productreview): add user review prompt"
git status
```

Return to main and compare:
```
git switch main
# Inspect differences
git diff main..productreview
```

Merge productreview into main:
```
git merge productreview
```

Push:
```
git push origin main
```

---

## Cloning a Remote Repository

Syntax:
```
git clone <repository-url> [destination-directory]
```

Examples:
```
git clone https://github.com/user/repo.git
git clone https://github.com/user/repo.git my-project
git clone git@github.com:user/repo.git
git clone --branch develop https://github.com/user/repo.git
git clone --depth 1 https://github.com/user/repo.git
```

---

## Example: Initialize a PHP Website Repo

```
sudo dnf install git -y
mkdir phpproject && cd phpproject
git init
git add .
git commit -m "chore: initial commit"
git remote add origin https://github.com/techgeek68/my-project.git
git push -u origin main
```

---

## Troubleshooting

- “mvn” or other build artifacts tracked by mistake
```
echo -e "target/\n*.class" >> .gitignore
git rm -r --cached target
git commit -m "build: ignore target directory"
```

- Push rejected (non-fast-forward)
```
git pull --rebase origin main
# resolve conflicts, then:
git push origin main
```

- Wrong email in commits
```
git config --global user.email "correct@example.com"
# For past commits (advanced):
# git filter-repo ...    # or git filter-branch (legacy)
```

- Accidentally committed secrets
```
# Remove from code and history; rotate the secret immediately.
# Use git filter-repo to purge, then force-push (coordination required).
```

- Large repo sluggish
```
git gc --aggressive --prune=now
git repack -ad
```

---

## Quick Reference (Cheat Sheet)

Status and staging:
```
git status
git add <file> | git add .
git restore --staged <file>
```

Committing:
```
git commit -m "type(scope): subject"
```

Branching:
```
git branch
git switch -c feature/x
git switch main
git merge feature/x
```

Remotes:
```
git remote -v
git push origin main
git pull origin main
```

History:
```
git log --oneline --graph --all
git diff
```

Undo:
```
git restore <file>
git reset --soft|--mixed|--hard HEAD~1
git revert <commit>
```
